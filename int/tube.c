#include "tube.h"
#include <mcs51/8052.h>

#define DU P2_6
#define WE P2_7
#define TUBE P0

__code u8 tube_char[] = {
  0x3F, 0x06, 0x5B, 0x4F, 0x66, 0x6D, 0x7D, 0x07, 0x7F, 0x6F,
  0x77, 0x7C, 0x39, 0x5E, 0x79, 0x71, 0x76, 0x38, 0x40,
};

void
tube_show (u8 val, u8 pos)
{
  TUBE = 0;

  WE = 1;
  DU = 0;
  TUBE = ~pos;

  DU = 1;
  WE = 0;
  TUBE = val;
}
